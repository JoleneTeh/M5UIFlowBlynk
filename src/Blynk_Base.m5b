{"category":"Blynk","color":"#23c48e","blocks":["__Blynk_Start","__Blynk_PushNotification","__Blynk_Input","__Blynk_Output","__Blynk_Event","__Blynk_Connect","__Blynk_Disconnect"],"jscode":"// Block __Blynk_Start\nvar __Blynk_Start_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Blynk Start\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"auth_token\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"auth_token\"\n        }\n    ],\n    \"colour\": \"#23c48e\"\n};\n\nwindow['Blockly'].Blocks['__Blynk_Start'] = {\n    init: function() {\n        this.jsonInit(__Blynk_Start_json);\n    }\n};\n\nwindow['Blockly'].Python['__Blynk_Start'] = function(block) {\n    var auth_token = Blockly.Python.valueToCode(block, 'auth_token', Blockly.Python.ORDER_NONE);\n    return `import BlynkLib\nBLYNK_AUTH = ${auth_token}\nblynk = BlynkLib.Blynk(BLYNK_AUTH)\n\n@timerSch.event('__blynk_timer')\ndef __blink_timer():\n  blynk.run()\ntimerSch.run('__blynk_timer', 2, 0x00)\n` + \"\\n\";\n};\n\n// Block __Blynk_PushNotification\nvar __Blynk_PushNotification_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"PushNotification\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"text\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"text\"\n        }\n    ],\n    \"colour\": \"#23c48e\"\n};\n\nwindow['Blockly'].Blocks['__Blynk_PushNotification'] = {\n    init: function() {\n        this.jsonInit(__Blynk_PushNotification_json);\n    }\n};\n\nwindow['Blockly'].Python['__Blynk_PushNotification'] = function(block) {\n    var text = Blockly.Python.valueToCode(block, 'text', Blockly.Python.ORDER_NONE);\n    return `blynk.notify(${text})` + \"\\n\";\n};\n\n// Block __Blynk_Input\nvar __Blynk_Input_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Input\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"pin\"\n        },\n        {\n            \"type\": \"field_number\",\n            \"value\": 0,\n            \"name\": \"pin\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"call\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"call\"\n        }\n    ],\n    \"colour\": \"#23c48e\"\n};\n\nwindow['Blockly'].Blocks['__Blynk_Input'] = {\n    init: function() {\n        this.jsonInit(__Blynk_Input_json);\n    }\n};\n\nwindow['Blockly'].Python['__Blynk_Input'] = function(block) {\n    var pin = block.getFieldValue('pin');\nvar call = Blockly.Python.valueToCode(block, 'call', Blockly.Python.ORDER_NONE);\n    return `@blynk.VIRTUAL_WRITE(${pin})\ndef v${pin}_write_handler(value):\n    globals()[${call}](*value)` + \"\\n\";\n};\n\n// Block __Blynk_Output\nvar __Blynk_Output_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Output\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"pin\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"pin\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"value\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"value\"\n        }\n    ],\n    \"colour\": \"#23c48e\"\n};\n\nwindow['Blockly'].Blocks['__Blynk_Output'] = {\n    init: function() {\n        this.jsonInit(__Blynk_Output_json);\n    }\n};\n\nwindow['Blockly'].Python['__Blynk_Output'] = function(block) {\n    var pin = Blockly.Python.valueToCode(block, 'pin', Blockly.Python.ORDER_NONE);\nvar value = Blockly.Python.valueToCode(block, 'value', Blockly.Python.ORDER_NONE);\n    return `blynk.virtual_write(${pin}, ${value})` + \"\\n\";\n};\n\n// Block __Blynk_Event\nvar __Blynk_Event_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Event\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"event\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"event\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"call\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"call\"\n        }\n    ],\n    \"colour\": \"#23c48e\"\n};\n\nwindow['Blockly'].Blocks['__Blynk_Event'] = {\n    init: function() {\n        this.jsonInit(__Blynk_Event_json);\n    }\n};\n\nwindow['Blockly'].Python['__Blynk_Event'] = function(block) {\n    var event = Blockly.Python.valueToCode(block, 'event', Blockly.Python.ORDER_NONE);\nvar call = Blockly.Python.valueToCode(block, 'call', Blockly.Python.ORDER_NONE);\n    return `@blynk.on(${event})\ndef __blynk_on_${event.slice(1, -1)}(*args):\n    globals()[${call}](*args)` + \"\\n\";\n};\n\n// Block __Blynk_Connect\nvar __Blynk_Connect_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"colour\": \"#23c48e\"\n};\n\nwindow['Blockly'].Blocks['__Blynk_Connect'] = {\n    init: function() {\n        this.jsonInit(__Blynk_Connect_json);\n    }\n};\n\nwindow['Blockly'].Python['__Blynk_Connect'] = function(block) {\n        return `@blynk.on('connect')\ndef __blynk_on_connect(*args):\n    globals()[${call}](*args)` + \"\\n\";\n};\n\n// Block __Blynk_Disconnect\nvar __Blynk_Disconnect_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"colour\": \"#23c48e\"\n};\n\nwindow['Blockly'].Blocks['__Blynk_Disconnect'] = {\n    init: function() {\n        this.jsonInit(__Blynk_Disconnect_json);\n    }\n};\n\nwindow['Blockly'].Python['__Blynk_Disconnect'] = function(block) {\n        return `@blynk.on('connect')\ndef __blynk_on_connect(*args):\n    globals()[${call}](*args)` + \"\\n\";\n};\n\n","code":{"Start":["window['Blockly'].Python['__Blynk_Start'] = function(block) {\n    var auth_token = Blockly.Python.valueToCode(block, 'auth_token', Blockly.Python.ORDER_NONE);\n    return `import BlynkLib\nBLYNK_AUTH = ${auth_token}\nblynk = BlynkLib.Blynk(BLYNK_AUTH)\n\n@timerSch.event('__blynk_timer')\ndef __blink_timer():\n  blynk.run()\ntimerSch.run('__blynk_timer', 2, 0x00)\n` + \"\\n\";\n};\n\n","import BlynkLib\nBLYNK_AUTH = ${auth_token}\nblynk = BlynkLib.Blynk(BLYNK_AUTH)\n\n@timerSch.event('__blynk_timer')\ndef __blink_timer():\n  blynk.run()\ntimerSch.run('__blynk_timer', 2, 0x00)\n"],"PushNotification":["window['Blockly'].Python['__Blynk_PushNotification'] = function(block) {\n    var text = Blockly.Python.valueToCode(block, 'text', Blockly.Python.ORDER_NONE);\n    return `blynk.notify(${text})` + \"\\n\";\n};\n\n","blynk.notify(${text})"],"Input":["window['Blockly'].Python['__Blynk_Input'] = function(block) {\n    var pin = block.getFieldValue('pin');\nvar call = Blockly.Python.valueToCode(block, 'call', Blockly.Python.ORDER_NONE);\n    return `@blynk.VIRTUAL_WRITE(${pin})\ndef v${pin}_write_handler(value):\n    globals()[${call}](*value)` + \"\\n\";\n};\n\n","@blynk.VIRTUAL_WRITE(${pin})\ndef v${pin}_write_handler(value):\n    globals()[${call}](*value)"],"Output":["window['Blockly'].Python['__Blynk_Output'] = function(block) {\n    var pin = Blockly.Python.valueToCode(block, 'pin', Blockly.Python.ORDER_NONE);\nvar value = Blockly.Python.valueToCode(block, 'value', Blockly.Python.ORDER_NONE);\n    return `blynk.virtual_write(${pin}, ${value})` + \"\\n\";\n};\n\n","blynk.virtual_write(${pin}, ${value})"],"Event":["window['Blockly'].Python['__Blynk_Event'] = function(block) {\n    var event = Blockly.Python.valueToCode(block, 'event', Blockly.Python.ORDER_NONE);\nvar call = Blockly.Python.valueToCode(block, 'call', Blockly.Python.ORDER_NONE);\n    return `@blynk.on(${event})\ndef __blynk_on_${event.slice(1, -1)}(*args):\n    globals()[${call}](*args)` + \"\\n\";\n};\n\n","@blynk.on(${event})\ndef __blynk_on_${event.slice(1, -1)}(*args):\n    globals()[${call}](*args)"],"Connect":["window['Blockly'].Python['__Blynk_Connect'] = function(block) {\n        return `@blynk.on('connect')\ndef __blynk_on_connect(*args):\n    globals()[${call}](*args)` + \"\\n\";\n};\n\n","@blynk.on('connect')\ndef __blynk_on_connect(*args):\n    globals()[${call}](*args)"],"Disconnect":["window['Blockly'].Python['__Blynk_Disconnect'] = function(block) {\n        return `@blynk.on('connect')\ndef __blynk_on_connect(*args):\n    globals()[${call}](*args)` + \"\\n\";\n};\n\n","@blynk.on('connect')\ndef __blynk_on_connect(*args):\n    globals()[${call}](*args)"]}}